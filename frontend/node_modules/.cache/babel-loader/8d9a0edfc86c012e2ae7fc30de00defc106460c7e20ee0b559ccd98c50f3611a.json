{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dali_bnslh\\\\Desktop\\\\Final plat\\\\frontend\\\\src\\\\pages\\\\CreateCourse.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { courseService } from '../services/courseService';\nimport { BookOpen, Save, Plus, Trash2, Upload, Eye, ArrowLeft } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport './CreateCourse.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateCourse = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [activeStep, setActiveStep] = useState(1);\n  const [courseData, setCourseData] = useState({\n    titre: '',\n    description: '',\n    categorie: 'informatique',\n    niveau: 'debutant',\n    dureeEstimee: 1,\n    prix: 0,\n    imagePreview: '',\n    modules: [{\n      titre: '',\n      description: '',\n      ordre: 1,\n      videos: [],\n      documents: []\n    }],\n    status: 'brouillon'\n  });\n  const [errors, setErrors] = useState({});\n  const categories = [{\n    value: 'mathematiques',\n    label: 'Mathématiques'\n  }, {\n    value: 'sciences',\n    label: 'Sciences'\n  }, {\n    value: 'langues',\n    label: 'Langues'\n  }, {\n    value: 'informatique',\n    label: 'Informatique'\n  }, {\n    value: 'arts',\n    label: 'Arts'\n  }, {\n    value: 'histoire',\n    label: 'Histoire'\n  }, {\n    value: 'autre',\n    label: 'Autre'\n  }];\n  const niveaux = [{\n    value: 'debutant',\n    label: 'Débutant'\n  }, {\n    value: 'intermediaire',\n    label: 'Intermédiaire'\n  }, {\n    value: 'avance',\n    label: 'Avancé'\n  }];\n  const steps = [{\n    number: 1,\n    title: 'Informations générales',\n    description: 'Titre, description, catégorie'\n  }, {\n    number: 2,\n    title: 'Contenu du cours',\n    description: 'Modules et leçons'\n  }, {\n    number: 3,\n    title: 'Paramètres',\n    description: 'Prix, statut, publication'\n  }];\n  const handleInputChange = (field, value) => {\n    setCourseData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n  const handleModuleChange = (moduleIndex, field, value) => {\n    setCourseData(prev => ({\n      ...prev,\n      modules: prev.modules.map((module, index) => index === moduleIndex ? {\n        ...module,\n        [field]: value\n      } : module)\n    }));\n  };\n  const addModule = () => {\n    setCourseData(prev => ({\n      ...prev,\n      modules: [...prev.modules, {\n        titre: '',\n        description: '',\n        ordre: prev.modules.length + 1,\n        videos: [],\n        documents: []\n      }]\n    }));\n  };\n  const removeModule = moduleIndex => {\n    if (courseData.modules.length <= 1) {\n      toast.error('Un cours doit contenir au moins un module');\n      return;\n    }\n    setCourseData(prev => ({\n      ...prev,\n      modules: prev.modules.filter((_, index) => index !== moduleIndex).map((module, index) => ({\n        ...module,\n        ordre: index + 1\n      }))\n    }));\n  };\n  const addVideo = moduleIndex => {\n    setCourseData(prev => ({\n      ...prev,\n      modules: prev.modules.map((module, index) => index === moduleIndex ? {\n        ...module,\n        videos: [...module.videos, {\n          titre: '',\n          url: '',\n          duree: 0,\n          ordre: module.videos.length + 1\n        }]\n      } : module)\n    }));\n  };\n  const removeVideo = (moduleIndex, videoIndex) => {\n    setCourseData(prev => ({\n      ...prev,\n      modules: prev.modules.map((module, index) => index === moduleIndex ? {\n        ...module,\n        videos: module.videos.filter((_, vIndex) => vIndex !== videoIndex).map((video, vIndex) => ({\n          ...video,\n          ordre: vIndex + 1\n        }))\n      } : module)\n    }));\n  };\n  const handleVideoChange = (moduleIndex, videoIndex, field, value) => {\n    setCourseData(prev => ({\n      ...prev,\n      modules: prev.modules.map((module, mIndex) => mIndex === moduleIndex ? {\n        ...module,\n        videos: module.videos.map((video, vIndex) => vIndex === videoIndex ? {\n          ...video,\n          [field]: value\n        } : video)\n      } : module)\n    }));\n  };\n  const validateStep = step => {\n    const newErrors = {};\n    if (step === 1) {\n      if (!courseData.titre.trim()) {\n        newErrors.titre = 'Le titre est requis';\n      } else if (courseData.titre.trim().length < 5) {\n        newErrors.titre = 'Le titre doit contenir au moins 5 caractères';\n      }\n      if (!courseData.description.trim()) {\n        newErrors.description = 'La description est requise';\n      } else if (courseData.description.trim().length < 20) {\n        newErrors.description = 'La description doit contenir au moins 20 caractères';\n      }\n      if (courseData.dureeEstimee < 1) {\n        newErrors.dureeEstimee = 'La durée doit être d\\'au moins 1 heure';\n      }\n    }\n    if (step === 2) {\n      courseData.modules.forEach((module, mIndex) => {\n        if (!module.titre.trim()) {\n          newErrors[`module_${mIndex}_titre`] = 'Le titre du module est requis';\n        }\n      });\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const nextStep = () => {\n    if (validateStep(activeStep)) {\n      setActiveStep(prev => Math.min(prev + 1, 3));\n    }\n  };\n  const prevStep = () => {\n    setActiveStep(prev => Math.max(prev - 1, 1));\n  };\n  const handleSaveDraft = async () => {\n    if (!validateStep(1)) return;\n    setLoading(true);\n    try {\n      const response = await courseService.createCourse({\n        ...courseData,\n        status: 'brouillon'\n      });\n      toast.success('Brouillon sauvegardé !');\n      navigate('/teacher/dashboard');\n    } catch (error) {\n      console.error('Erreur sauvegarde brouillon:', error);\n      toast.error('Erreur lors de la sauvegarde');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePublish = async () => {\n    if (!validateStep(activeStep)) return;\n    setLoading(true);\n    try {\n      const response = await courseService.createCourse({\n        ...courseData,\n        status: 'publie'\n      });\n      toast.success('Cours publié avec succès !');\n      navigate('/teacher/dashboard');\n    } catch (error) {\n      console.error('Erreur publication cours:', error);\n      toast.error('Erreur lors de la publication');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderStepContent = () => {\n    switch (activeStep) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Informations g\\xE9n\\xE9rales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Titre du cours *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: courseData.titre,\n              onChange: e => handleInputChange('titre', e.target.value),\n              className: `input ${errors.titre ? 'error' : ''}`,\n              placeholder: \"Ex: Introduction \\xE0 React.js\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), errors.titre && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.titre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Description *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: courseData.description,\n              onChange: e => handleInputChange('description', e.target.value),\n              className: `input ${errors.description ? 'error' : ''}`,\n              rows: 4,\n              placeholder: \"D\\xE9crivez votre cours en d\\xE9tail...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Cat\\xE9gorie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: courseData.categorie,\n                onChange: e => handleInputChange('categorie', e.target.value),\n                className: \"input\",\n                children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cat.value,\n                  children: cat.label\n                }, cat.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Niveau\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: courseData.niveau,\n                onChange: e => handleInputChange('niveau', e.target.value),\n                className: \"input\",\n                children: niveaux.map(niveau => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: niveau.value,\n                  children: niveau.label\n                }, niveau.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Dur\\xE9e estim\\xE9e (heures) *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"1\",\n                value: courseData.dureeEstimee,\n                onChange: e => handleInputChange('dureeEstimee', parseInt(e.target.value) || 1),\n                className: `input ${errors.dureeEstimee ? 'error' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), errors.dureeEstimee && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.dureeEstimee\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Prix (\\u20AC)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"0\",\n                step: \"0.01\",\n                value: courseData.prix,\n                onChange: e => handleInputChange('prix', parseFloat(e.target.value) || 0),\n                className: \"input\",\n                placeholder: \"0 pour gratuit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Image de pr\\xE9visualisation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-upload\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"url\",\n                value: courseData.imagePreview,\n                onChange: e => handleInputChange('imagePreview', e.target.value),\n                className: \"input\",\n                placeholder: \"URL de l'image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this), \"T\\xE9l\\xE9charger\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), courseData.imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-preview\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: courseData.imagePreview,\n                alt: \"Pr\\xE9visualisation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Contenu du cours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modules-section\",\n            children: [courseData.modules.map((module, moduleIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"module-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"module-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"Module \", moduleIndex + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), courseData.modules.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removeModule(moduleIndex),\n                  className: \"btn btn-outline btn-sm danger\",\n                  children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 25\n                  }, this), \"Supprimer\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Titre du module *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: module.titre,\n                  onChange: e => handleModuleChange(moduleIndex, 'titre', e.target.value),\n                  className: `input ${errors[`module_${moduleIndex}_titre`] ? 'error' : ''}`,\n                  placeholder: \"Ex: Les bases de React\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), errors[`module_${moduleIndex}_titre`] && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error-message\",\n                  children: errors[`module_${moduleIndex}_titre`]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Description du module\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: module.description,\n                  onChange: e => handleModuleChange(moduleIndex, 'description', e.target.value),\n                  className: \"input\",\n                  rows: 2,\n                  placeholder: \"Description du contenu de ce module\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"videos-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Vid\\xE9os\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => addVideo(moduleIndex),\n                    className: \"btn btn-outline btn-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 25\n                    }, this), \"Ajouter une vid\\xE9o\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), module.videos.map((video, videoIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"video-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Vid\\xE9o \", videoIndex + 1]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => removeVideo(moduleIndex, videoIndex),\n                      className: \"btn btn-outline btn-sm danger\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: video.titre,\n                        onChange: e => handleVideoChange(moduleIndex, videoIndex, 'titre', e.target.value),\n                        className: \"input\",\n                        placeholder: \"Titre de la vid\\xE9o\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"0\",\n                        value: video.duree,\n                        onChange: e => handleVideoChange(moduleIndex, videoIndex, 'duree', parseInt(e.target.value) || 0),\n                        className: \"input\",\n                        placeholder: \"Dur\\xE9e (secondes)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"url\",\n                      value: video.url,\n                      onChange: e => handleVideoChange(moduleIndex, videoIndex, 'url', e.target.value),\n                      className: \"input\",\n                      placeholder: \"URL de la vid\\xE9o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 25\n                  }, this)]\n                }, videoIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 23\n                }, this)), module.videos.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-message\",\n                  children: \"Aucune vid\\xE9o ajout\\xE9e\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)]\n            }, moduleIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addModule,\n              className: \"btn btn-outline add-module-btn\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 17\n              }, this), \"Ajouter un module\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Param\\xE8tres de publication\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"publish-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Sauvegarder comme brouillon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Enregistrez votre travail pour le terminer plus tard. Le cours ne sera pas visible par les \\xE9tudiants.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveDraft,\n                disabled: loading,\n                className: \"btn btn-outline\",\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 19\n                }, this), \"Sauvegarder le brouillon\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-card featured\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Publier le cours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Rendez votre cours visible et accessible aux \\xE9tudiants sur la plateforme.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePublish,\n                disabled: loading,\n                className: \"btn btn-primary\",\n                children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"loading-spinner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 23\n                  }, this), \"Publication...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Eye, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 23\n                  }, this), \"Publier le cours\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"course-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Aper\\xE7u du cours\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-image\",\n                children: courseData.imagePreview ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: courseData.imagePreview,\n                  alt: courseData.titre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"placeholder\",\n                  children: /*#__PURE__*/_jsxDEV(BookOpen, {\n                    size: 32\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: courseData.titre || 'Titre du cours'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: courseData.description || 'Description du cours'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: courseData.categorie\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: courseData.niveau\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [courseData.dureeEstimee, \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [courseData.modules.length, \" modules\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-price\",\n                  children: courseData.prix > 0 ? `${courseData.prix}€` : 'Gratuit'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-course-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/teacher/dashboard'),\n          className: \"back-button\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), \"Retour au dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Cr\\xE9er un nouveau cours\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"steps-nav\",\n        children: steps.map(step => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `step ${activeStep === step.number ? 'active' : ''} ${activeStep > step.number ? 'completed' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-number\",\n            children: step.number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: step.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: step.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this)]\n        }, step.number, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: [renderStepContent(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-navigation\",\n          children: [activeStep > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: prevStep,\n            className: \"btn btn-outline\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this), \"Pr\\xE9c\\xE9dent\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nav-spacer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), activeStep < 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: nextStep,\n            className: \"btn btn-primary\",\n            children: [\"Suivant\", /*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 16,\n              className: \"rotate-180\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 574,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateCourse, \"s6VMLPSz3Igi+Cjq6oRzSFciBjA=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateCourse;\nexport default CreateCourse;\nvar _c;\n$RefreshReg$(_c, \"CreateCourse\");","map":{"version":3,"names":["React","useState","useNavigate","courseService","BookOpen","Save","Plus","Trash2","Upload","Eye","ArrowLeft","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateCourse","_s","navigate","loading","setLoading","activeStep","setActiveStep","courseData","setCourseData","titre","description","categorie","niveau","dureeEstimee","prix","imagePreview","modules","ordre","videos","documents","status","errors","setErrors","categories","value","label","niveaux","steps","number","title","handleInputChange","field","prev","handleModuleChange","moduleIndex","map","module","index","addModule","length","removeModule","error","filter","_","addVideo","url","duree","removeVideo","videoIndex","vIndex","video","handleVideoChange","mIndex","validateStep","step","newErrors","trim","forEach","Object","keys","nextStep","Math","min","prevStep","max","handleSaveDraft","response","createCourse","success","console","handlePublish","renderStepContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","placeholder","rows","cat","parseInt","parseFloat","size","src","alt","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Dali_bnslh/Desktop/Final plat/frontend/src/pages/CreateCourse.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { courseService } from '../services/courseService';\r\nimport {\r\n  BookOpen,\r\n  Save,\r\n  Plus,\r\n  Trash2,\r\n  Upload,\r\n  Eye,\r\n  ArrowLeft\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport './CreateCourse.css';\r\n\r\nconst CreateCourse = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeStep, setActiveStep] = useState(1);\r\n  \r\n  const [courseData, setCourseData] = useState({\r\n    titre: '',\r\n    description: '',\r\n    categorie: 'informatique',\r\n    niveau: 'debutant',\r\n    dureeEstimee: 1,\r\n    prix: 0,\r\n    imagePreview: '',\r\n    modules: [{\r\n      titre: '',\r\n      description: '',\r\n      ordre: 1,\r\n      videos: [],\r\n      documents: []\r\n    }],\r\n    status: 'brouillon'\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const categories = [\r\n    { value: 'mathematiques', label: 'Mathématiques' },\r\n    { value: 'sciences', label: 'Sciences' },\r\n    { value: 'langues', label: 'Langues' },\r\n    { value: 'informatique', label: 'Informatique' },\r\n    { value: 'arts', label: 'Arts' },\r\n    { value: 'histoire', label: 'Histoire' },\r\n    { value: 'autre', label: 'Autre' }\r\n  ];\r\n\r\n  const niveaux = [\r\n    { value: 'debutant', label: 'Débutant' },\r\n    { value: 'intermediaire', label: 'Intermédiaire' },\r\n    { value: 'avance', label: 'Avancé' }\r\n  ];\r\n\r\n  const steps = [\r\n    { number: 1, title: 'Informations générales', description: 'Titre, description, catégorie' },\r\n    { number: 2, title: 'Contenu du cours', description: 'Modules et leçons' },\r\n    { number: 3, title: 'Paramètres', description: 'Prix, statut, publication' }\r\n  ];\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleModuleChange = (moduleIndex, field, value) => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: prev.modules.map((module, index) => \r\n        index === moduleIndex \r\n          ? { ...module, [field]: value }\r\n          : module\r\n      )\r\n    }));\r\n  };\r\n\r\n  const addModule = () => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: [\r\n        ...prev.modules,\r\n        {\r\n          titre: '',\r\n          description: '',\r\n          ordre: prev.modules.length + 1,\r\n          videos: [],\r\n          documents: []\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const removeModule = (moduleIndex) => {\r\n    if (courseData.modules.length <= 1) {\r\n      toast.error('Un cours doit contenir au moins un module');\r\n      return;\r\n    }\r\n\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: prev.modules\r\n        .filter((_, index) => index !== moduleIndex)\r\n        .map((module, index) => ({ ...module, ordre: index + 1 }))\r\n    }));\r\n  };\r\n\r\n  const addVideo = (moduleIndex) => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: prev.modules.map((module, index) => \r\n        index === moduleIndex \r\n          ? {\r\n              ...module,\r\n              videos: [\r\n                ...module.videos,\r\n                {\r\n                  titre: '',\r\n                  url: '',\r\n                  duree: 0,\r\n                  ordre: module.videos.length + 1\r\n                }\r\n              ]\r\n            }\r\n          : module\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeVideo = (moduleIndex, videoIndex) => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: prev.modules.map((module, index) => \r\n        index === moduleIndex \r\n          ? {\r\n              ...module,\r\n              videos: module.videos\r\n                .filter((_, vIndex) => vIndex !== videoIndex)\r\n                .map((video, vIndex) => ({ ...video, ordre: vIndex + 1 }))\r\n            }\r\n          : module\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleVideoChange = (moduleIndex, videoIndex, field, value) => {\r\n    setCourseData(prev => ({\r\n      ...prev,\r\n      modules: prev.modules.map((module, mIndex) => \r\n        mIndex === moduleIndex \r\n          ? {\r\n              ...module,\r\n              videos: module.videos.map((video, vIndex) =>\r\n                vIndex === videoIndex\r\n                  ? { ...video, [field]: value }\r\n                  : video\r\n              )\r\n            }\r\n          : module\r\n      )\r\n    }));\r\n  };\r\n\r\n  const validateStep = (step) => {\r\n    const newErrors = {};\r\n\r\n    if (step === 1) {\r\n      if (!courseData.titre.trim()) {\r\n        newErrors.titre = 'Le titre est requis';\r\n      } else if (courseData.titre.trim().length < 5) {\r\n        newErrors.titre = 'Le titre doit contenir au moins 5 caractères';\r\n      }\r\n\r\n      if (!courseData.description.trim()) {\r\n        newErrors.description = 'La description est requise';\r\n      } else if (courseData.description.trim().length < 20) {\r\n        newErrors.description = 'La description doit contenir au moins 20 caractères';\r\n      }\r\n\r\n      if (courseData.dureeEstimee < 1) {\r\n        newErrors.dureeEstimee = 'La durée doit être d\\'au moins 1 heure';\r\n      }\r\n    }\r\n\r\n    if (step === 2) {\r\n      courseData.modules.forEach((module, mIndex) => {\r\n        if (!module.titre.trim()) {\r\n          newErrors[`module_${mIndex}_titre`] = 'Le titre du module est requis';\r\n        }\r\n      });\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (validateStep(activeStep)) {\r\n      setActiveStep(prev => Math.min(prev + 1, 3));\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    setActiveStep(prev => Math.max(prev - 1, 1));\r\n  };\r\n\r\n  const handleSaveDraft = async () => {\r\n    if (!validateStep(1)) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await courseService.createCourse({\r\n        ...courseData,\r\n        status: 'brouillon'\r\n      });\r\n      toast.success('Brouillon sauvegardé !');\r\n      navigate('/teacher/dashboard');\r\n    } catch (error) {\r\n      console.error('Erreur sauvegarde brouillon:', error);\r\n      toast.error('Erreur lors de la sauvegarde');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePublish = async () => {\r\n    if (!validateStep(activeStep)) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await courseService.createCourse({\r\n        ...courseData,\r\n        status: 'publie'\r\n      });\r\n      toast.success('Cours publié avec succès !');\r\n      navigate('/teacher/dashboard');\r\n    } catch (error) {\r\n      console.error('Erreur publication cours:', error);\r\n      toast.error('Erreur lors de la publication');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (activeStep) {\r\n      case 1:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <h3>Informations générales</h3>\r\n            \r\n            <div className=\"form-group\">\r\n              <label className=\"label\">Titre du cours *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={courseData.titre}\r\n                onChange={(e) => handleInputChange('titre', e.target.value)}\r\n                className={`input ${errors.titre ? 'error' : ''}`}\r\n                placeholder=\"Ex: Introduction à React.js\"\r\n              />\r\n              {errors.titre && <span className=\"error-message\">{errors.titre}</span>}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"label\">Description *</label>\r\n              <textarea\r\n                value={courseData.description}\r\n                onChange={(e) => handleInputChange('description', e.target.value)}\r\n                className={`input ${errors.description ? 'error' : ''}`}\r\n                rows={4}\r\n                placeholder=\"Décrivez votre cours en détail...\"\r\n              />\r\n              {errors.description && <span className=\"error-message\">{errors.description}</span>}\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label className=\"label\">Catégorie</label>\r\n                <select\r\n                  value={courseData.categorie}\r\n                  onChange={(e) => handleInputChange('categorie', e.target.value)}\r\n                  className=\"input\"\r\n                >\r\n                  {categories.map(cat => (\r\n                    <option key={cat.value} value={cat.value}>\r\n                      {cat.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"label\">Niveau</label>\r\n                <select\r\n                  value={courseData.niveau}\r\n                  onChange={(e) => handleInputChange('niveau', e.target.value)}\r\n                  className=\"input\"\r\n                >\r\n                  {niveaux.map(niveau => (\r\n                    <option key={niveau.value} value={niveau.value}>\r\n                      {niveau.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label className=\"label\">Durée estimée (heures) *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={courseData.dureeEstimee}\r\n                  onChange={(e) => handleInputChange('dureeEstimee', parseInt(e.target.value) || 1)}\r\n                  className={`input ${errors.dureeEstimee ? 'error' : ''}`}\r\n                />\r\n                {errors.dureeEstimee && <span className=\"error-message\">{errors.dureeEstimee}</span>}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"label\">Prix (€)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  value={courseData.prix}\r\n                  onChange={(e) => handleInputChange('prix', parseFloat(e.target.value) || 0)}\r\n                  className=\"input\"\r\n                  placeholder=\"0 pour gratuit\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"label\">Image de prévisualisation</label>\r\n              <div className=\"image-upload\">\r\n                <input\r\n                  type=\"url\"\r\n                  value={courseData.imagePreview}\r\n                  onChange={(e) => handleInputChange('imagePreview', e.target.value)}\r\n                  className=\"input\"\r\n                  placeholder=\"URL de l'image\"\r\n                />\r\n                <button type=\"button\" className=\"btn btn-outline\">\r\n                  <Upload size={16} />\r\n                  Télécharger\r\n                </button>\r\n              </div>\r\n              {courseData.imagePreview && (\r\n                <div className=\"image-preview\">\r\n                  <img src={courseData.imagePreview} alt=\"Prévisualisation\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <h3>Contenu du cours</h3>\r\n            \r\n            <div className=\"modules-section\">\r\n              {courseData.modules.map((module, moduleIndex) => (\r\n                <div key={moduleIndex} className=\"module-card\">\r\n                  <div className=\"module-header\">\r\n                    <h4>Module {moduleIndex + 1}</h4>\r\n                    {courseData.modules.length > 1 && (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeModule(moduleIndex)}\r\n                        className=\"btn btn-outline btn-sm danger\"\r\n                      >\r\n                        <Trash2 size={14} />\r\n                        Supprimer\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"label\">Titre du module *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={module.titre}\r\n                      onChange={(e) => handleModuleChange(moduleIndex, 'titre', e.target.value)}\r\n                      className={`input ${errors[`module_${moduleIndex}_titre`] ? 'error' : ''}`}\r\n                      placeholder=\"Ex: Les bases de React\"\r\n                    />\r\n                    {errors[`module_${moduleIndex}_titre`] && (\r\n                      <span className=\"error-message\">{errors[`module_${moduleIndex}_titre`]}</span>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"label\">Description du module</label>\r\n                    <textarea\r\n                      value={module.description}\r\n                      onChange={(e) => handleModuleChange(moduleIndex, 'description', e.target.value)}\r\n                      className=\"input\"\r\n                      rows={2}\r\n                      placeholder=\"Description du contenu de ce module\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"videos-section\">\r\n                    <div className=\"section-header\">\r\n                      <h5>Vidéos</h5>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => addVideo(moduleIndex)}\r\n                        className=\"btn btn-outline btn-sm\"\r\n                      >\r\n                        <Plus size={14} />\r\n                        Ajouter une vidéo\r\n                      </button>\r\n                    </div>\r\n\r\n                    {module.videos.map((video, videoIndex) => (\r\n                      <div key={videoIndex} className=\"video-item\">\r\n                        <div className=\"video-header\">\r\n                          <span>Vidéo {videoIndex + 1}</span>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => removeVideo(moduleIndex, videoIndex)}\r\n                            className=\"btn btn-outline btn-sm danger\"\r\n                          >\r\n                            <Trash2 size={14} />\r\n                          </button>\r\n                        </div>\r\n\r\n                        <div className=\"form-row\">\r\n                          <div className=\"form-group\">\r\n                            <input\r\n                              type=\"text\"\r\n                              value={video.titre}\r\n                              onChange={(e) => handleVideoChange(moduleIndex, videoIndex, 'titre', e.target.value)}\r\n                              className=\"input\"\r\n                              placeholder=\"Titre de la vidéo\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"form-group\">\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"0\"\r\n                              value={video.duree}\r\n                              onChange={(e) => handleVideoChange(moduleIndex, videoIndex, 'duree', parseInt(e.target.value) || 0)}\r\n                              className=\"input\"\r\n                              placeholder=\"Durée (secondes)\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <input\r\n                            type=\"url\"\r\n                            value={video.url}\r\n                            onChange={(e) => handleVideoChange(moduleIndex, videoIndex, 'url', e.target.value)}\r\n                            className=\"input\"\r\n                            placeholder=\"URL de la vidéo\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n\r\n                    {module.videos.length === 0 && (\r\n                      <p className=\"empty-message\">Aucune vidéo ajoutée</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              <button\r\n                type=\"button\"\r\n                onClick={addModule}\r\n                className=\"btn btn-outline add-module-btn\"\r\n              >\r\n                <Plus size={16} />\r\n                Ajouter un module\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <h3>Paramètres de publication</h3>\r\n            \r\n            <div className=\"publish-options\">\r\n              <div className=\"option-card\">\r\n                <h4>Sauvegarder comme brouillon</h4>\r\n                <p>Enregistrez votre travail pour le terminer plus tard. Le cours ne sera pas visible par les étudiants.</p>\r\n                <button\r\n                  onClick={handleSaveDraft}\r\n                  disabled={loading}\r\n                  className=\"btn btn-outline\"\r\n                >\r\n                  <Save size={16} />\r\n                  Sauvegarder le brouillon\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"option-card featured\">\r\n                <h4>Publier le cours</h4>\r\n                <p>Rendez votre cours visible et accessible aux étudiants sur la plateforme.</p>\r\n                <button\r\n                  onClick={handlePublish}\r\n                  disabled={loading}\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <div className=\"loading-spinner\"></div>\r\n                      Publication...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Eye size={16} />\r\n                      Publier le cours\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"course-preview\">\r\n              <h4>Aperçu du cours</h4>\r\n              <div className=\"preview-card\">\r\n                <div className=\"preview-image\">\r\n                  {courseData.imagePreview ? (\r\n                    <img src={courseData.imagePreview} alt={courseData.titre} />\r\n                  ) : (\r\n                    <div className=\"placeholder\">\r\n                      <BookOpen size={32} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"preview-content\">\r\n                  <h5>{courseData.titre || 'Titre du cours'}</h5>\r\n                  <p>{courseData.description || 'Description du cours'}</p>\r\n                  <div className=\"preview-meta\">\r\n                    <span>{courseData.categorie}</span>\r\n                    <span>{courseData.niveau}</span>\r\n                    <span>{courseData.dureeEstimee}h</span>\r\n                    <span>{courseData.modules.length} modules</span>\r\n                  </div>\r\n                  <div className=\"preview-price\">\r\n                    {courseData.prix > 0 ? `${courseData.prix}€` : 'Gratuit'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-course-page\">\r\n      <div className=\"container\">\r\n        {/* Header */}\r\n        <div className=\"page-header\">\r\n          <button onClick={() => navigate('/teacher/dashboard')} className=\"back-button\">\r\n            <ArrowLeft size={16} />\r\n            Retour au dashboard\r\n          </button>\r\n          <h1>Créer un nouveau cours</h1>\r\n        </div>\r\n\r\n        {/* Steps Navigation */}\r\n        <div className=\"steps-nav\">\r\n          {steps.map(step => (\r\n            <div\r\n              key={step.number}\r\n              className={`step ${activeStep === step.number ? 'active' : ''} ${\r\n                activeStep > step.number ? 'completed' : ''\r\n              }`}\r\n            >\r\n              <div className=\"step-number\">{step.number}</div>\r\n              <div className=\"step-info\">\r\n                <h4>{step.title}</h4>\r\n                <p>{step.description}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Form Content */}\r\n        <div className=\"form-container\">\r\n          {renderStepContent()}\r\n\r\n          {/* Navigation Buttons */}\r\n          <div className=\"form-navigation\">\r\n            {activeStep > 1 && (\r\n              <button onClick={prevStep} className=\"btn btn-outline\">\r\n                <ArrowLeft size={16} />\r\n                Précédent\r\n              </button>\r\n            )}\r\n            \r\n            <div className=\"nav-spacer\"></div>\r\n            \r\n            {activeStep < 3 && (\r\n              <button onClick={nextStep} className=\"btn btn-primary\">\r\n                Suivant\r\n                <ArrowLeft size={16} className=\"rotate-180\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateCourse;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}